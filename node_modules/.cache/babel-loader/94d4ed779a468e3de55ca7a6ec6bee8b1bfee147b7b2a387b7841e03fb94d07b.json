{"ast":null,"code":"import*as React from\"react\";import Button from\"@mui/material/Button\";import Card from'@mui/material/Card';import CardActions from'@mui/material/CardActions';import CardContent from'@mui/material/CardContent';import CardMedia from'@mui/material/CardMedia';import IconButton from'@mui/material/IconButton';import DeleteIcon from'@mui/icons-material/Delete';import EditIcon from'@mui/icons-material/Edit';import Stack from\"@mui/material/Stack\";import Toolbar from\"@mui/material/Toolbar\";import Typography from\"@mui/material/Typography\";import DraggableDialog from'../customdialog/customdialog';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function ProductCard(_ref){let{product}=_ref;const[dialog,setDialog]=React.useState(false);function handleBuy(){sessionStorage.setItem(\"activeProduct\",JSON.stringify(product));window.location.href='/product/detail';}function handleEdit(){sessionStorage.setItem(\"activeProduct\",JSON.stringify(product));window.location.href='/product/upsert';}function handleDelete(){setDialog(true);}function ConditionalDialog(){console.log('dd',dialog);if(dialog){return/*#__PURE__*/_jsx(DraggableDialog,{});}}function IconsToShow(){let user=JSON.parse(sessionStorage.getItem(\"userCache\"));if(user.activeUser.role=='admin'){return/*#__PURE__*/_jsxs(Stack,{direction:\"row\",alignItems:\"center\",children:[/*#__PURE__*/_jsx(IconButton,{onClick:handleEdit,\"aria-label\":\"edit\",children:/*#__PURE__*/_jsx(EditIcon,{})}),/*#__PURE__*/_jsx(IconButton,{onClick:handleDelete,\"aria-label\":\"delete\",children:/*#__PURE__*/_jsx(DeleteIcon,{})})]});}console.log(user.activeUser);}return/*#__PURE__*/_jsxs(Card,{sx:{minWidth:'30%',minHeight:\"30%\",marginLeft:\"2%\",marginBottom:\"1%\"},children:[/*#__PURE__*/_jsx(ConditionalDialog,{}),/*#__PURE__*/_jsx(CardMedia,{sx:{height:250},image:product.imageUrl,title:product.name}),/*#__PURE__*/_jsxs(CardContent,{children:[/*#__PURE__*/_jsx(Typography,{gutterBottom:true,variant:\"h5\",component:\"div\",children:product.name}),/*#__PURE__*/_jsx(Typography,{variant:\"body2\",color:\"text.secondary\",children:product.description})]}),/*#__PURE__*/_jsxs(Toolbar,{sx:{justifyContent:\"space-between\"},children:[/*#__PURE__*/_jsx(CardActions,{children:/*#__PURE__*/_jsx(Button,{onClick:handleBuy,sx:{minWidth:\"30%\"},variant:\"contained\",children:\"Buy\"})}),/*#__PURE__*/_jsx(IconsToShow,{})]})]});}","map":{"version":3,"names":["React","Button","Card","CardActions","CardContent","CardMedia","IconButton","DeleteIcon","EditIcon","Stack","Toolbar","Typography","DraggableDialog","jsx","_jsx","jsxs","_jsxs","ProductCard","_ref","product","dialog","setDialog","useState","handleBuy","sessionStorage","setItem","JSON","stringify","window","location","href","handleEdit","handleDelete","ConditionalDialog","console","log","IconsToShow","user","parse","getItem","activeUser","role","direction","alignItems","children","onClick","sx","minWidth","minHeight","marginLeft","marginBottom","height","image","imageUrl","title","name","gutterBottom","variant","component","color","description","justifyContent"],"sources":["/home/sanket/otherfl/upgrad_eshop/src/common/productcard/productcard.js"],"sourcesContent":["import * as React from \"react\";\nimport Button from \"@mui/material/Button\";\nimport Card from '@mui/material/Card';\nimport CardActions from '@mui/material/CardActions';\nimport CardContent from '@mui/material/CardContent';\nimport CardMedia from '@mui/material/CardMedia';\nimport IconButton from '@mui/material/IconButton';\nimport DeleteIcon from '@mui/icons-material/Delete';\nimport EditIcon from '@mui/icons-material/Edit';\nimport Stack from \"@mui/material/Stack\";\nimport Toolbar from \"@mui/material/Toolbar\";\nimport Typography from \"@mui/material/Typography\";\nimport DraggableDialog from '../customdialog/customdialog';\n\nexport default function ProductCard({ product }) {\n\n  const [dialog, setDialog] = React.useState(false);\n\n  function handleBuy(){\n    sessionStorage.setItem(\"activeProduct\", JSON.stringify(product));\n    window.location.href = '/product/detail';\n  }\n\n  function handleEdit(){\n    sessionStorage.setItem(\"activeProduct\", JSON.stringify(product));\n    window.location.href = '/product/upsert';\n  }\n\n  function handleDelete(){\n    setDialog(true);\n  }\n\n  function ConditionalDialog(){\n    console.log('dd',dialog);\n    if(dialog){\n      return (<DraggableDialog/>);\n    }\n  }\n\n  function IconsToShow(){\n    let user = JSON.parse(sessionStorage.getItem(\"userCache\"));\n    if(user.activeUser.role == 'admin'){\n      return (<Stack direction=\"row\" alignItems=\"center\">\n      <IconButton onClick={handleEdit} aria-label=\"edit\">\n        <EditIcon />\n      </IconButton>\n      <IconButton onClick={handleDelete} aria-label=\"delete\">\n        <DeleteIcon />\n      </IconButton>\n      </Stack>\n    );\n    }\n    console.log(user.activeUser);\n  }\n\n\nreturn(<Card sx={{ minWidth: '30%', minHeight: \"30%\", marginLeft: \"2%\", marginBottom: \"1%\" }}>\n  <ConditionalDialog/>\n<CardMedia\n  sx={{ height: 250 }}\n  image={product.imageUrl}\n  title={product.name}\n/>\n<CardContent>\n  <Typography gutterBottom variant=\"h5\" component=\"div\">\n    {product.name}\n  </Typography>\n  <Typography variant=\"body2\" color=\"text.secondary\">\n    {product.description}\n  </Typography>\n</CardContent>\n<Toolbar\n        sx={{\n          justifyContent: \"space-between\"\n        }}\n      >\n<CardActions>\n          <Button onClick={handleBuy} sx={{ minWidth: \"30%\" }} variant=\"contained\">\n          Buy\n        </Button>\n</CardActions>\n<IconsToShow/>\n  </Toolbar>\n</Card>);\n}"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}